(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2908:(e,t,s)=>{Promise.resolve().then(s.bind(s,9319))},9319:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var l=s(5155),a=s(2115);function n(){let[e,t]=(0,a.useState)(-1),[s,n]=(0,a.useState)(""),[i,r]=(0,a.useState)(""),[d,o]=(0,a.useState)([]),[m,c]=(0,a.useState)(!1),h=()=>{e<d.length-1&&(t(e+1),n(""))},x=e=>{e?h():(n("غلطه غلط غلوطه غلطه. برو دوباره بخون و بیا."),setTimeout(()=>{t(e=>Math.max(e-1,0)),n("")},2e3))},u=async()=>{if(c(!0),""!==i.trim())try{let e=await fetch("https://api.dify.ai/v1",{method:"POST",headers:{Authorization:"Bearer ".concat("app-6Hs0TlnpBjz3jl78NoolZYWL"),"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({inputs:{wikipedia_url:i},response_mode:"blocking",user:"ShahabKarimi"})}),s=await e.json();o([...s.data.outputs.result,{heading:"ایزی ایزی تامام تامام",content:"تبریک. با موفقیت تمومش کردی. میتونی بری یه چیز جدید یاد بگیری."}]),t(0)}catch(e){n("به مشکلی خوردیم. دوباره امتحان کن.")}finally{c(!1)}else n("یه لینک درست بفرست.")};return(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-2",children:(0,l.jsx)("div",{className:"bg-white shadow-md rounded-xl p-4 w-full max-w-sm sm:max-w-md text-center",children:-1===e?(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-3",children:"یه لینک ویکیپدیا بده"}),(0,l.jsx)("input",{type:"text",value:i,onChange:e=>r(e.target.value),placeholder:"https://en.wikipedia.org/wiki/...",className:"w-full p-2 mb-3 border rounded-lg shadow-sm text-sm sm:text-base",style:{direction:"ltr"}}),(0,l.jsx)("button",{onClick:u,className:"w-full py-2 bg-green-500 text-white rounded-lg shadow-md hover:bg-green-600",disabled:m,children:m?"لطفاً صبر کنید...":"تعاملی یاد بگیر!"}),m&&(0,l.jsx)("div",{className:"flex justify-center items-center mt-3",children:(0,l.jsx)("div",{className:"w-6 h-6 border-4 border-green-500 border-t-transparent rounded-full animate-spin"})}),s&&(0,l.jsx)("p",{className:"mt-3 text-red-500 text-sm font-semibold",children:s})]}):(0,l.jsxs)("div",{children:[d[e].heading&&(0,l.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-3",children:d[e].heading}),d[e].content&&(0,l.jsx)("p",{className:"text-base sm:text-lg mb-4",children:d[e].content}),d[e].question&&d[e].options?(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mb-3 font-semibold text-sm sm:text-base",children:d[e].question}),d[e].options.map((e,t)=>(0,l.jsx)("button",{onClick:()=>x(e.isCorrect),className:"w-full py-2 mb-2 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 text-sm sm:text-base",children:e.answer},t))]}):(0,l.jsx)("button",{onClick:e===d.length-1?()=>{t(-1),r(""),n(""),o([])}:h,className:"w-full py-2 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 text-sm sm:text-base",children:e===d.length-1?"اتمام":"گام بعدی"}),s&&(0,l.jsx)("p",{className:"mb-3 text-red-500 text-sm font-semibold",children:s})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(2908)),_N_E=e.O()}]);